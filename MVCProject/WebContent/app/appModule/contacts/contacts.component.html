<h1 class="contactsHead" ng-show="!vm.selectedContact">Contacts</h1>



<!-- New contact form -->
<form class="contactForm" ng-show="!vm.selectedContact">
	<input class="form-control" type="text" ng-model="contact.firstName" placeholder="First name"><br>
	<input class="form-control" type="text" ng-model="contact.lastName" placeholder="Last name"><br>
	<input class="form-control" type="text" ng-model="contact.title" placeholder="Title"><br>
	<input class="form-control" type="text" ng-model="contact.company" placeholder="Company"><br>
	<input class="form-control" type="text" ng-model="contact.phone" placeholder="Phone"><br>
	<input class="form-control" type="text" ng-model="contact.email" placeholder="Email"><br>
	<input class="form-control btn btn-primary"type="submit" ng-click="vm.addContact(contact); contact = {}" value="Add Contact"/><br>
</form>
<br>

<!-- Sort functionality for contacts -->

<div class="sortTypeHeadings" ng-show="!vm.selectedContact">
	<span> 
		<strong>Sort By:</strong>
		<a ng-click="vm.sortType = 'company'"> <strong>Company  |</strong></a>
 		<a ng-click="vm.sortType = 'lastName'"> <strong>Last Name  |</strong></a>
 		<a ng-click="vm.sortType = 'firstName'"> <strong>First Name  </strong></a>
	</span>
</div>
<br>

<!-- Contacts Table -->
	<div class="container tableDiv" ng-show="!vm.selectedContact">
		
		<table class="table table-hover table-sm">
		<thead id=ctcHeader>
			<tr>
				<th id="ctcTbl">Last Name </th>
				<th id="ctcTbl">First Name </th>
				<th id="ctcTbl">Company </th>
				<th id="ctcTbl">Title </th>
				<th id="ctcTbl">Email </th>
				<th id="ctcTbl">Phone Number </th>
				<th id="ctcTbl">Last Contacted </th>
				<th></th>
			</tr>
		</thead>	
	
			<tr ng-repeat="contact in vm.contacts | orderBy: vm.sortType">
				<td ng-click="vm.setEditContact(contact)" id="ctcData">{{contact.lastName}} </td>
				<td ng-click="vm.setEditContact(contact)" id="ctcData">{{contact.firstName}} </td>
				<td ng-click="vm.setEditContact(contact)" id="ctcData">{{contact.company}} </td>
				<td ng-click="vm.setEditContact(contact)" id="ctcData">{{contact.title}} </td>
				<td ng-click="vm.setEditContact(contact)" id="ctcData">{{contact.email}} </td>
				<td ng-click="vm.setEditContact(contact)" id="ctcData">{{contact.phone}} </td>
				<td ng-click="vm.setEditContact(contact)" id="ctcData">{{contact.lastContactDate}} </td>
				<td><button ng-click="vm.destroyContact(contact.id)">X</button></td>
			</tr>
		</table>
	</div>


<!-- EDIT VIEW -->

<h1 ng-show="vm.editContact">Edit Contact</h1>

<div id=contactEdit ng-show="vm.editContact">

	<form id="edit-contact-form">
		First Name: <input type="text" ng-model="vm.editContact.firstName" placeholder="First Name" /><br />
		Last Name: <input type="text" ng-model="vm.editContact.lastName" placeholder="Last Name" /><br />
		Company: <input type="text" ng-model="vm.editContact.company" placeholder="Company" /><br />
		Title: <input type="text" ng-model="vm.editContact.title" placeholder="Title" /><br />
		Email: <input type="text" ng-model="vm.editContact.email" placeholder="Email" /><br />
		Phone: <input type="text" ng-model="vm.editContact.phone" placeholder="Phone" /><br />
		Last Contacted: <input type="text" ng-model="vm.editContact.lastContactDate" placeholder="YYYY-MM-DD" /><br />
	</form>
		<a>Last Updated: {{vm.editContact.lastUpdate | date:'yyyy-MM-dd'}} </a> <br>
		<a>Date Added: {{vm.editContact.createDate | date:'yyyy-MM-dd'}} </a> <br> <br>
		

	<button type="button" ng-click="vm.updateContact(vm.editContact)" href="#/contacts">Save</button>
	<button type="button" ng-click="vm.cancel()">Cancel</button>

</div>















<!-- SHOW DETAILED VIEW -->
<!-- <div ng-show=vm.selectedContact && !vm.editContact>
<h2>Contact Details</h2> -->
	
<!-- 	<span> 
		<input type="checkbox" ng-model="job.active" ng-change="vm.updateJob(job)" />
		<button ng-click="vm.destroyJob(job.id)">x</button>
	</span> -->