<h1 class = "jobAppsHead row justify-content-center" ng-show="!vm.selected">Your Job Applications</h1>
<h3>{{vm.countJobs()}} jobs applied for this week. And counting!</h3>

<div class="jobAdd">
	<!-- ADD JOB FORM -->
	<form ng-show="!vm.selected" class="form-group">
		<input class="form-control" type="text" ng-model="job.title" placeholder="Job Title" /><br>
		<input class="form-control" type="text" ng-model="job.company" placeholder="Company" /><br>
		<input class="form-control buttonSub" type="submit" ng-click="vm.addJob(job); job = {}"
			value="Add Job" /><br>
	</form>
</div>

<!-- INDEX LIST OF JOBS -->
<div class="jobShow tableDiv" >
	<table class="table" ng-show="!vm.selected">
		<tr>
			<th>Job Title</th>
			<th>Company</th>
			<th>Date</th>
			<th>Active</th>
			<th>Del</th>
		</tr>
		<tr ng-repeat="job in vm.jobs | orderBy:'id'">
			<td ng-click="vm.displayJob(job)">{{job.title}}</td>
			<td ng-click="vm.displayJob(job)">{{job.company}}</td>
			<td ng-click="vm.displayJob(job)">{{job.createdDate}}</td>
			<td><input type="checkbox" ng-model="job.active"
				ng-change="vm.updateJob(job)" /></td>
			<td><button class="buttonDel" ng-click="vm.destroyJob(job.id)">x</button></td>
		</tr>
	</table>
</div>


<!-- LIST OF THIS WEEK'S JOBS APPLIED TO -->
<h4 ng-show="!vm.selected">Applications Completed This Week</h4>
<div class="thisWeek" ng-show="!vm.selected">

	<table class="table">
		<tr>
			<th>Job Title</th>
		</tr>
		<tr ng-repeat="job in vm.jobs | orderBy:'id'">
			<td ng-click="vm.jobsThisWeek(job)">{{job.title}}</td>
		</tr>
	</table>
</div>



<!-- SHOW DETAIL VIEW -->

<div ng-show="vm.selected && !vm.editJob">
	<h1>Job Details</h1>
	<div class="jobDetails">
	<table class="show-detail">
		<tr>
			<td>Job Title: {{vm.selected.title}}</td>
		</tr>
		<tr>
			<td>Company: {{vm.selected.company}}</td>
		</tr>
		<tr>
			<td>Job Posting URL: <a href ="{{vm.selected.link}}" target="_blank">{{vm.selected.link}}</a></td>
		</tr>
		<tr>
			<td>Address: {{vm.selected.address.street}}, {{vm.selected.address.city}}, {{vm.selected.address.state}} {{vm.selected.address.zip}}</td>
		</tr>
		<tr>
			<td>Date Applied: {{vm.selected.createdDate}}</td>
		</tr>
		<tr>
			<td>Last Updated: {{vm.selected.lastUpdate}}</td>
		</tr>
		<tr>
			<td>
				Skills Required:
				<ul>
					<li ng-repeat="skill in vm.selected.jobSkills">
						{{skill.skill}}
					</li>
				</ul>
			</td>			
		</tr>
		<tr>
			<td><input type="submit" ng-click="vm.setEditJob()" value="Edit" /></td>
		</tr>
	</table>
	<button type="button" ng-click="vm.displayAllJobs()">Back to
		Jobs</button>
		</div>
</div>

<!-- SHOW EDIT VIEW -->

<h1 ng-show="vm.editJob">Edit Job Details</h1>
<div ng-show="vm.editJob">
<div class="jobEdit">
	<form class="edit-form">
		Job Title: <input type="text" ng-model="vm.editJob.title" placeholder="Job Title" /><br />
		Company <input type="text" ng-model="vm.editJob.company" placeholder="Company"/><br />
		Job Posting URL: <input type="text" ng-model="vm.editJob.link" placeholder="URL"/><br />
		Street: <input type="text" ng-model="vm.editJob.address.street" placeholder="Address"/><br />
		City: <input type="text" ng-model="vm.editJob.address.city" placeholder="Address"/><br />
		State: <input type="text" ng-model="vm.editJob.address.state" placeholder="Address"/><br />
		Zip: <input type="text" ng-model="vm.editJob.address.zip" placeholder="Address"/><br />
		Country: <input type="text" ng-model="vm.editJob.address.country" placeholder="Address"/><br />
		
		<div ng-repeat="skill in vm.editJob.jobSkills">
			<input type="text" ng-model="skill.skill">
		</div>
		<button type="button" ng-click="vm.addJobSkill()">Add New Required Skill</button>
		<!-- Date Applied: <input type="text" ng-model="vm.editJob.dueDate" placeholder="Date Applied"/><br />
		Last Updated: <input type="text" ng-model="vm.editJob.lastUpdate" placeholder="Last Updated"/><br /> -->
		Active: <input type="checkbox" ng-model="vm.editJob.active"/>  
	</form>

	<button type="button buttonSub" ng-click="vm.updateJob(vm.editJob)">Save</button>
	<button type="button buttonDel" ng-click="vm.editJob=null">Cancel</button>
</div>
</div>

<!-- 
<h1 ng-class="vm.incompleteWarning()">To Do List {{vm.countTasks()}}</h1>

<form>
	Show All Tasks <input type="checkbox" ng-model="vm.showAll"/>
</form>



 -->